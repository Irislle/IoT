{
  "mqtt": {
    "host": "mosquitto",
    "port": 1883,
    "keepalive": 60
  },
  "services": {
    "rpi_temperature_publisher": {
      "room_id": "equip-1",
      "device_id": "rpi-1",
      "topic_template": "iot/{room_id}/temperature/raw",
      "sampling_s": 5
    },
    "postprocess_time_shift": {
      "input_topic_template": "iot/{room_id}/temperature/raw",
      "output_topic_template": "iot/{room_id}/temperature/processed",
      "rooms": ["equip-1"],
      "window_size": 5
    },
    "alert_strategy": {
      "input_topic_template": "iot/{room_id}/temperature/processed",
      "alert_topic_template": "iot/{room_id}/alerts",
      "indicator_topic_template": "iot/{room_id}/indicator/cmd",
      "rooms": ["equip-1"],
      "high_threshold": 26.0,
      "low_threshold": 24.0,
      "cooldown_s": 30
    },
    "arduino_indicator": {
      "command_topic_template": "iot/{room_id}/indicator/cmd",
      "state_topic_template": "iot/{room_id}/indicator/state",
      "device_id": "indicator-1",
      "room_id": "equip-1"
    },
    "telegram_bot": {
      "alert_topic_template": "iot/{room_id}/alerts",
      "hvac_command_topic_template": "iot/{room_id}/hvac/cmd",
      "status_topic_template": "iot/{room_id}/hvac/state",
      "rooms": ["equip-1"],
      "bot_token": "REPLACE_ME",
      "chat_id": "REPLACE_ME"
    },
    "hvac_connector": {
      "command_topic_template": "iot/{room_id}/hvac/cmd",
      "state_topic_template": "iot/{room_id}/hvac/state",
      "device_id": "hvac-1",
      "room_id": "equip-1"
    },
    "thingspeak_adapter": {
      "rooms": ["equip-1"],
      "topic_templates": [
        "iot/{room_id}/temperature/processed",
        "iot/{room_id}/alerts",
        "iot/{room_id}/hvac/state",
        "iot/{room_id}/indicator/state"
      ],
      "api_key": "REPLACE_ME",
      "endpoint": "https://api.thingspeak.com/update.json"
    },
    "dashboard_consumer": {
      "rooms": ["equip-1"],
      "topic_templates": [
        "iot/{room_id}/temperature/processed",
        "iot/{room_id}/alerts",
        "iot/{room_id}/indicator/state",
        "iot/{room_id}/hvac/state"
      ]
    }
  }
}
